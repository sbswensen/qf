{{define "title"}} Lists of {{.DocName}} Documents {{end}}


{{define "styles"}}
  <style>
  thead {
    font-weight: bold;
  }
  td {
    border-right: 1px solid gray;
    padding: 5px;
  }
  td:last-child {
    border-right: none;
  }
  .button-look {
    text-decoration: none;
    background-color: gray;
    color: white;
    border: 1px solid #999;
    border-radius: 3px;
    padding: 3px;
  }
  .button-look:hover {
    background-color: #ccc;
  }
  </style>
{{end}}


{{define "main"}}
  <h3>Lists of {{.DocName}} Documents</h3>

  {{ if eq $.CreatePerm true}}
    <a class="button-look" href="/doc/{{.DocName}}/create/">Create {{.DocName}} Document</a>
    <br><br>
  {{ end}}

  <table>
    <thead>
      <tr>
        <td>id</td>
        {{range .ColNames}}
          <td>{{.}}</td>
        {{end}}
        <td>Actions</td>
      </tr>
    </thead>
    <tbody>
      {{range .MyRows}}
        <tr>
          <td>{{.Id}}</td>
          {{range .ColAndDatas}}
            <td>{{.Data }}</td>
          {{end}}
          <td>
            <a class='button-look' href='/doc/{{$.DocName}}/update/{{.Id}}/'>
              {{ if $.UpdatePerm }}
                View/Edit
              {{ else }}
                View
              {{ end }}
            </a>
            {{ if $.DeletePerm }}<a class='button-look' href='/doc/{{$.DocName}}/delete/{{.Id}}/'>Delete</a> {{end}}
          </td>
        </tr>
      {{end}}
    </tbody>
  </table>

  <br><br>
  <div id="pagination">
    Pages:
    {{range .Pages}}
      <a href='/doc/{{$.DocName}}/list/{{.}}/'>{{.}}</a>
    {{end}}
  </div>

{{end}}
